<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Birthday Prajwal ðŸŽ‰</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:black;
  color:white;
  overflow:hidden;
  text-align:center;
}
canvas{
  position:fixed;
  top:0;
  left:0;
}
.container{
  position:relative;
  z-index:10;
  padding-top:20px;
}
.neon{
  font-size:3.5rem;
  color:#0ff;
  text-shadow:0 0 20px #0ff,0 0 60px #0ff;
}
.slideshow{
  width:200px;
  height:200px;
  margin:15px auto;
  border-radius:50%;
  overflow:hidden;
  border:4px solid #0ff;
}
.slideshow img{
  width:100%;
  height:100%;
  object-fit:cover;
}
</style>
</head>

<body>

<!-- AUDIO -->
<audio autoplay loop>
  <source src="./birthday.mp3">
</audio>

<!-- UI -->
<div class="container">
  <h1>ðŸŽ‰ Happy Birthday ðŸŽ‰</h1>
  <div class="neon">PRAJWAL</div>

  <div class="slideshow">
    <img id="slide" src="./img_2_1703823638549.jpg">
  </div>
</div>

<!-- THREE.JS -->
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<script>
/* ================== THREE SETUP ================== */
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75,innerWidth/innerHeight,0.1,1000);
camera.position.z = 45;

const renderer = new THREE.WebGLRenderer({alpha:true,antialias:true});
renderer.setSize(innerWidth,innerHeight);
renderer.setPixelRatio(devicePixelRatio);
document.body.appendChild(renderer.domElement);

/* ================== LIGHTS ================== */
scene.add(new THREE.AmbientLight(0xffffff,1.4));
const light = new THREE.PointLight(0x00ffff,2,200);
light.position.set(20,30,40);
scene.add(light);

/* ================== SLIDE IMAGE AS TEXTURE ================== */
const slideImg = document.getElementById("slide");
const slideTexture = new THREE.Texture(slideImg);
slideTexture.needsUpdate = true;

/* ================== BACKGROUND ================== */
scene.background = slideTexture;

/* ================== 3D CAKE ================== */
const cake = new THREE.Group();
for(let i=0;i<3;i++){
  const layer = new THREE.Mesh(
    new THREE.CylinderGeometry(8-2*i,8-2*i,3,32),
    new THREE.MeshStandardMaterial({ map: slideTexture })
  );
  layer.position.y = i * 3;
  cake.add(layer);
}
cake.position.y = -10;
scene.add(cake);

/* ================== BALLOONS ================== */
const balloons=[];
for(let i=0;i<12;i++){
  const b = new THREE.Mesh(
    new THREE.SphereGeometry(1.5,16,16),
    new THREE.MeshStandardMaterial({ map: slideTexture })
  );
  b.position.set(
    (Math.random()-0.5)*40,
    -30-Math.random()*40,
    (Math.random()-0.5)*30
  );
  balloons.push(b);
  scene.add(b);
}

/* ================== GALAXY ================== */
const starsGeo=new THREE.BufferGeometry();
const starPos=[];
for(let i=0;i<1200;i++){
  const r=Math.random()*60;
  const a=Math.random()*Math.PI*2;
  starPos.push(Math.cos(a)*r,(Math.random()-0.5)*20,Math.sin(a)*r);
}
starsGeo.setAttribute("position",new THREE.Float32BufferAttribute(starPos,3));
const stars=new THREE.Points(
  starsGeo,
  new THREE.PointsMaterial({color:0xffffff,size:0.7})
);
scene.add(stars);

/* ================== FIREWORKS ================== */
let fireworks=[];
function explode(x,y,z){
  for(let i=0;i<60;i++){
    fireworks.push({
      pos:new THREE.Vector3(x,y,z),
      vel:new THREE.Vector3(
        (Math.random()-.5)*2,
        (Math.random()-.5)*2,
        (Math.random()-.5)*2
      ),
      life:60
    });
  }
}
setInterval(()=>explode(
  (Math.random()-.5)*30,
  Math.random()*20,
  (Math.random()-.5)*30
),1200);

/* ================== TOUCH + GYRO ================== */
let targetX=0,targetY=0;
window.addEventListener("mousemove",e=>{
  targetX=(e.clientX/innerWidth-.5)*2;
  targetY=(e.clientY/innerHeight-.5)*2;
});
window.addEventListener("deviceorientation",e=>{
  targetX=e.gamma/45;
  targetY=e.beta/45;
});

/* ================== SLIDESHOW â†’ 3D SYNC ================== */
setInterval(()=>{
  slideTexture.needsUpdate = true;
},1000);

/* ================== ANIMATE ================== */
function animate(){
  requestAnimationFrame(animate);

  cake.rotation.y += 0.01;
  stars.rotation.y += 0.0006;

  balloons.forEach(b=>{
    b.position.y += 0.05;
    if(b.position.y > 30) b.position.y = -30;
  });

  fireworks.forEach((f,i)=>{
    f.pos.add(f.vel);
    f.life--;
    if(f.life<=0) fireworks.splice(i,1);

    const spark=new THREE.Mesh(
      new THREE.SphereGeometry(0.15),
      new THREE.MeshBasicMaterial({color:0xffaa00})
    );
    spark.position.copy(f.pos);
    scene.add(spark);
    setTimeout(()=>scene.remove(spark),100);
  });

  camera.position.x += (targetX*10-camera.position.x)*0.05;
  camera.position.y += (-targetY*10-camera.position.y)*0.05;
  camera.lookAt(0,0,0);

  renderer.render(scene,camera);
}
animate();

/* ================== RESIZE ================== */
window.addEventListener("resize",()=>{
  camera.aspect=innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth,innerHeight);
});
</script>

</body>
  </html>
  
